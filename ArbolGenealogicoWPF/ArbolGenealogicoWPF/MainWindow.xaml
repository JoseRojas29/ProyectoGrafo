<!-- Diseño de la ventana principal de la aplicación WPF para el árbol genealógico.
	 Incluye estilos personalizados para Window, TextBox, Button, TextBlock y GroupBox. -->

<Window x:Class="ArbolGenealogicoWPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResizeWithGrip"
        Background="Transparent"
		FontFamily="pack://application:,,,/Fonts/#Orbitron">

	<Window.Resources>
		<!-- TextBox (Espacios para que el usuario escriba) -->
		<Style TargetType="TextBox">
			<Setter Property="FontSize" Value="16"/>
			<Setter Property="Padding" Value="4"/>
			<Setter Property="Background" Value="#1A0033"/>
			<Setter Property="Foreground" Value="#FF6F00"/>
			<Setter Property="BorderBrush" Value="#FF9100"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="TextBox">
						<Border x:Name="Border"
								Background="{TemplateBinding Background}"
								BorderBrush="{TemplateBinding BorderBrush}"
								BorderThickness="2"
								CornerRadius="4">
							<ScrollViewer x:Name="PART_ContentHost"/>
						</Border>
						<ControlTemplate.Triggers>
							<!-- Mouse sobre la box -->
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="Border" Property="BorderBrush" Value="#B833FF"/>
							</Trigger>
							<!-- Usuario en la box -->
							<Trigger Property="IsKeyboardFocused" Value="True">
								<Setter TargetName="Border" Property="BorderBrush" Value="#B833FF"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Button (Todos los botones) -->
		<Style TargetType="Button">
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="FontSize" Value="20"/>
			<Setter Property="Background" Value="#1A0033"/>
			<Setter Property="Foreground" Value="#FFAB40"/>
			<Setter Property="BorderBrush" Value="#FF9100"/>
			<Setter Property="Padding" Value="12,6"/>
			<Setter Property="Margin" Value="0,0,12,8"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="Border"
								Background="{TemplateBinding Background}"
								BorderBrush="{TemplateBinding BorderBrush}"
								BorderThickness="2"
								CornerRadius="4"
								Padding="{TemplateBinding Padding}">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<!-- Mouse sobre el botón -->
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="Border" Property="Background" Value="#180028"/>
								<Setter TargetName="Border" Property="BorderBrush" Value="#B833FF"/>
							</Trigger>
							<!-- Botón presionado -->
							<Trigger Property="IsPressed" Value="True">
								<Setter TargetName="Border" Property="Background" Value="#2A003F"/>
								<Setter TargetName="Border" Property="BorderBrush" Value="#B833FF"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- TextBlock (Texto de solo lectura) -->
		<Style TargetType="TextBlock">
			<Setter Property="Foreground" Value="#FF6F00"/>
			<Setter Property="FontSize" Value="20"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>

		<!-- GroupBox (Contenedor con borde y título) -->
		<Style TargetType="GroupBox">
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="GroupBox">
						<Border Background="#1A0033"
								BorderBrush="#FF9100"
								BorderThickness="4"
								CornerRadius="6"
								Padding="12">
							<StackPanel>
								<TextBlock Text="{TemplateBinding Header}"
										   Foreground="#FFAB40"
										   FontSize="18"
										   FontWeight="Bold"
										   Margin="0,0,0,12"/>
								<ContentPresenter/>
							</StackPanel>
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

	</Window.Resources>

	<Grid Background="#000000">
		<Grid.RowDefinitions>
			<RowDefinition Height="50"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<!-- Barra de la ventana personalizada -->
		<Border Grid.Row="0" Background="#1A0033"
				Padding="0"
				MouseLeftButtonDown="Window_MouseLeftButtonDown">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>

				<!-- Título de la barra -->
				<TextBlock Grid.Column="0"
						   Text="Árbol Genealógico"
						   VerticalAlignment="Center"
						   Foreground="#FF6F00"
						   FontSize="16"
						   FontWeight="Bold"
						   Margin="12,0,0,0"/>

				<!-- Botones de la barra -->
				<StackPanel Grid.Column="1"
							Orientation="Horizontal"
							VerticalAlignment="Center"
							HorizontalAlignment="Right"
							Margin="0,0,8,0">
					<Button Content="🗖" Width="40" Height="28" Padding="0" FontSize="14"
							VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
							Click="Maximize_Click"/>
					<Button Content="—" Width="40" Height="28" Padding="0" FontSize="14"
							VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
							Click="Minimize_Click"/>
					<Button Content="✖" Width="40" Height="28" Padding="0" FontSize="14"
							VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
							Click="Close_Click"/>
				</StackPanel>
			</Grid>
		</Border>

		<!-- Contenido principal -->
		<Grid Grid.Row="1" Margin="16">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="3*"/>
				<ColumnDefinition Width="7*"/>
			</Grid.ColumnDefinitions>

			<!-- Datos del familiar -->
			<StackPanel Grid.Column="0" Margin="0,0,16,0">
				<TextBlock Text="Ingreso de familiar" FontWeight="Bold" FontSize="28" Margin="0,0,0,8"/>

				<TextBlock Text="Nombre Completo" Margin="0,0,0,8"/>
				<TextBox x:Name="NombreInput" Margin="0,0,0,8" ToolTip="Nombre completo"/>

				<TextBlock Text="Cédula (sin espacio ni guion)" FontSize="18" Margin="0,0,0,8"/>
				<TextBox x:Name="CedulaInput" Margin="0,0,0,8" ToolTip="Cédula"/>

				<TextBlock Text="Fecha de Nacimiento (dd/mm/aaaa)" Margin="0,0,0,8"/>
				<TextBox x:Name="FechaInput" Margin="0,0,0,8" ToolTip="Fecha de nacimiento (dd/mm/aaaa)"/>

				<TextBlock Text="Coordenadas de residencia (x,y)" Margin="0,0,0,8"/>
				<TextBox x:Name="CoordenadasInput" Margin="0,0,0,8" ToolTip="(ej: 9.93,84.08)"/>

				<TextBlock Text="Edad" Margin="0,0,0,8"/>
				<TextBox x:Name="EdadInput" Margin="0,0,0,8" ToolTip="Edad actual o a la que falleció"/>

				<!-- Contenedor horizontal para botón y preview de foto -->
				<StackPanel Orientation="Horizontal" Margin="0,8,0,8" VerticalAlignment="Center">
					<Button x:Name="SeleccionarFotoBtn" Content="Seleccionar foto" Click="SeleccionarFoto_Click"/>
					<Border Width="120" Height="120" Background="#222" CornerRadius="4" BorderBrush="#444" BorderThickness="1">
						<Image x:Name="FotoPreview" Stretch="UniformToFill"/>
					</Border>
				</StackPanel>

				<StackPanel Orientation="Vertical" Margin="0,16,0,0">
					<Button Content="Agregar" Click="Agregar_Click" Padding="8,4"/>
					<Button Content="Eliminar seleccionado" Click="Eliminar_Click" Padding="8,4"/>
					<Button Content="Estadísticas" Click="AbrirEstadisticas_Click" Padding="8,4"/>
					<Button Content="Mapa" Click="AbrirMapa_Click" Padding="8,4"/>
				</StackPanel>
			</StackPanel>

			<!-- Lista de familiares (Ahorita se va, porque son los nodos realmente, y group box pareciera que también) -->
			<GroupBox Grid.Column="1" Header="Familiares"
			  Background="#111111" Foreground="#00FFFF"
			  BorderBrush="#00FFFF" BorderThickness="2">
				<ListView x:Name="FamiliaresList" SelectionMode="Single"
						  Background="#111111" Foreground="#00FFFF" BorderBrush="#00FFFF" BorderThickness="1"
						  HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
				</ListView>
			</GroupBox>

		</Grid>
	</Grid>

</Window>